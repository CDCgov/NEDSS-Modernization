{"ast":null,"code":"var _jsxFileName = \"/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/src/pages/search/index.tsx\",\n    _s = $RefreshSig$();\n\nimport { Grid } from '@trussworks/react-uswds';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { EventSearch } from '../../components/EventSearch';\nimport { SimpleSearch } from '../../components/SimpleSearch';\nimport { useFindPatientsByFilterLazyQuery } from '../../generated/graphql/schema';\nimport './search.scss';\nimport { SearchItems } from './SearchItems';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const SearchEngine = () => {\n  _s();\n\n  const [searchType, setSearchType] = useState('search');\n  const [searchItems, setSearchItems] = useState([]);\n  const [searchParams] = useSearchParams();\n  const [getFilteredData] = useFindPatientsByFilterLazyQuery(); // const navigate = useNavigate();\n  // const [searchValue, setSearchValue] = useState<string>('');\n  // const [filtered, setFiltered] = useState<any[]>();\n  // const handleSearch = (e: any) => {\n  //     e.preventDefault();\n  //     navigate({\n  //         pathname: '/search',\n  //         search: `?q=${searchValue}`\n  //     });\n  // };\n\n  const onEventSearch = data => {\n    if (data) {\n      setSearchItems(data === null || data === void 0 ? void 0 : data.findPatientsByEvent);\n    }\n  };\n\n  useEffect(() => {\n    const rowData = {\n      firstName: searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('firstName'),\n      lastName: searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('lastName')\n    };\n    (searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('city')) && (rowData.city = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('city'));\n    (searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('zip')) && (rowData.zip = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('zip'));\n    (searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('id')) && (rowData.city = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('id'));\n    (searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('DateOfBirth')) && (rowData.DateOfBirth = searchParams === null || searchParams === void 0 ? void 0 : searchParams.get('DateOfBirth'));\n    getFilteredData({\n      variables: {\n        filter: rowData,\n        page: {\n          pageNumber: 0,\n          pageSize: 100\n        }\n      }\n    }).then(items => {\n      setSearchItems(items.data.findPatientsByFilter);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"padding-0 search-page-height bg-base-lightest\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      row: true,\n      className: \"search-page-height\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        col: 3,\n        className: \"bg-white border-right border-base-light\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-searchbar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid-row flex-align-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: `${searchType === 'search' && 'active'} text-normal type font-sans-md padding-bottom-1 margin-x-2 cursor-pointer`,\n              onClick: () => setSearchType('search'),\n              children: \"Simple Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"h6\", {\n              className: `${searchType !== 'search' && 'active'} padding-bottom-1 type text-normal font-sans-md cursor-pointer`,\n              onClick: () => setSearchType('event'),\n              children: \"Event Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 25\n          }, this), searchType === 'search' ? /*#__PURE__*/_jsxDEV(SimpleSearch, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 52\n          }, this) : /*#__PURE__*/_jsxDEV(EventSearch, {\n            onSearch: onEventSearch\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 71\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        col: 9,\n        children: /*#__PURE__*/_jsxDEV(SearchItems, {\n          data: searchItems\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(SearchEngine, \"dpqNUfUNGPNOr2dvwLyUK5J9XQI=\", false, function () {\n  return [useSearchParams, useFindPatientsByFilterLazyQuery];\n});\n\n_c = SearchEngine;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchEngine\");","map":{"version":3,"names":["Grid","useEffect","useState","useSearchParams","EventSearch","SimpleSearch","useFindPatientsByFilterLazyQuery","SearchItems","SearchEngine","searchType","setSearchType","searchItems","setSearchItems","searchParams","getFilteredData","onEventSearch","data","findPatientsByEvent","rowData","firstName","get","lastName","city","zip","DateOfBirth","variables","filter","page","pageNumber","pageSize","then","items","findPatientsByFilter"],"sources":["/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/src/pages/search/index.tsx"],"sourcesContent":["import { Grid } from '@trussworks/react-uswds';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { EventSearch } from '../../components/EventSearch';\nimport { SimpleSearch } from '../../components/SimpleSearch';\nimport { PersonFilter, useFindPatientsByFilterLazyQuery } from '../../generated/graphql/schema';\nimport './search.scss';\nimport { SearchItems } from './SearchItems';\n\nexport const SearchEngine = () => {\n    const [searchType, setSearchType] = useState<string>('search');\n    const [searchItems, setSearchItems] = useState<any>([]);\n    const [searchParams] = useSearchParams();\n\n    const [getFilteredData] = useFindPatientsByFilterLazyQuery();\n    // const navigate = useNavigate();\n\n    // const [searchValue, setSearchValue] = useState<string>('');\n    // const [filtered, setFiltered] = useState<any[]>();\n\n    // const handleSearch = (e: any) => {\n    //     e.preventDefault();\n    //     navigate({\n    //         pathname: '/search',\n    //         search: `?q=${searchValue}`\n    //     });\n    // };\n\n    const onEventSearch = (data: any) => {\n        if (data) {\n            setSearchItems(data?.findPatientsByEvent);\n        }\n    };\n\n    useEffect(() => {\n        const rowData: PersonFilter = {\n            firstName: searchParams?.get('firstName') as string,\n            lastName: searchParams?.get('lastName') as string\n        };\n        searchParams?.get('city') && (rowData.city = searchParams?.get('city') as string);\n        searchParams?.get('zip') && (rowData.zip = searchParams?.get('zip') as string);\n        searchParams?.get('id') && (rowData.city = searchParams?.get('id') as string);\n        searchParams?.get('DateOfBirth') && (rowData.DateOfBirth = searchParams?.get('DateOfBirth') as unknown as Date);\n        getFilteredData({\n            variables: {\n                filter: rowData,\n                page: {\n                    pageNumber: 0,\n                    pageSize: 100\n                }\n            }\n        }).then((items: any) => {\n            setSearchItems(items.data.findPatientsByFilter);\n        });\n    }, []);\n\n    return (\n        <div className=\"padding-0 search-page-height bg-base-lightest\">\n            <Grid row className=\"search-page-height\">\n                <Grid col={3} className=\"bg-white border-right border-base-light\">\n                    <div className=\"left-searchbar\">\n                        <div className=\"grid-row flex-align-center\">\n                            <h6\n                                className={`${\n                                    searchType === 'search' && 'active'\n                                } text-normal type font-sans-md padding-bottom-1 margin-x-2 cursor-pointer`}\n                                onClick={() => setSearchType('search')}>\n                                Simple Search\n                            </h6>\n                            <h6\n                                className={`${\n                                    searchType !== 'search' && 'active'\n                                } padding-bottom-1 type text-normal font-sans-md cursor-pointer`}\n                                onClick={() => setSearchType('event')}>\n                                Event Search\n                            </h6>\n                        </div>\n                        {searchType === 'search' ? <SimpleSearch /> : <EventSearch onSearch={onEventSearch} />}\n                    </div>\n                </Grid>\n                <Grid col={9}>\n                    <SearchItems data={searchItems} />\n                </Grid>\n            </Grid>\n        </div>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}