{"ast":null,"code":"import _slicedToArray from\"/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Grid}from'@trussworks/react-uswds';import{useEffect,useState}from'react';import{useSearchParams}from'react-router-dom';import{EventSearch}from'../../components/EventSearch';import{SimpleSearch}from'../../components/SimpleSearch';import{useFindPatientsByFilterLazyQuery}from'../../generated/graphql/schema';import'./search.scss';import{SearchItems}from'./SearchItems';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SearchEngine=function SearchEngine(){var _useState=useState('search'),_useState2=_slicedToArray(_useState,2),searchType=_useState2[0],setSearchType=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),searchItems=_useState4[0],setSearchItems=_useState4[1];var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var _useFindPatientsByFil=useFindPatientsByFilterLazyQuery(),_useFindPatientsByFil2=_slicedToArray(_useFindPatientsByFil,1),getFilteredData=_useFindPatientsByFil2[0];// const navigate = useNavigate();\n// const [searchValue, setSearchValue] = useState<string>('');\n// const [filtered, setFiltered] = useState<any[]>();\n// const handleSearch = (e: any) => {\n//     e.preventDefault();\n//     navigate({\n//         pathname: '/search',\n//         search: `?q=${searchValue}`\n//     });\n// };\nvar onEventSearch=function onEventSearch(data){if(data){setSearchItems(data===null||data===void 0?void 0:data.findPatientsByEvent);}};useEffect(function(){var rowData={firstName:searchParams===null||searchParams===void 0?void 0:searchParams.get('firstName'),lastName:searchParams===null||searchParams===void 0?void 0:searchParams.get('lastName')};(searchParams===null||searchParams===void 0?void 0:searchParams.get('city'))&&(rowData.city=searchParams===null||searchParams===void 0?void 0:searchParams.get('city'));(searchParams===null||searchParams===void 0?void 0:searchParams.get('zip'))&&(rowData.zip=searchParams===null||searchParams===void 0?void 0:searchParams.get('zip'));(searchParams===null||searchParams===void 0?void 0:searchParams.get('id'))&&(rowData.city=searchParams===null||searchParams===void 0?void 0:searchParams.get('id'));(searchParams===null||searchParams===void 0?void 0:searchParams.get('DateOfBirth'))&&(rowData.DateOfBirth=searchParams===null||searchParams===void 0?void 0:searchParams.get('DateOfBirth'));getFilteredData({variables:{filter:rowData,page:{pageNumber:0,pageSize:100}}}).then(function(items){setSearchItems(items.data.findPatientsByFilter);});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"padding-0 search-page-height bg-base-lightest\",children:/*#__PURE__*/_jsxs(Grid,{row:true,className:\"search-page-height\",children:[/*#__PURE__*/_jsx(Grid,{col:3,className:\"bg-white border-right border-base-light\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"left-searchbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid-row flex-align-center\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"\".concat(searchType==='search'&&'active',\" text-normal type font-sans-md padding-bottom-1 margin-x-2 cursor-pointer\"),onClick:function onClick(){return setSearchType('search');},children:\"Simple Search\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"\".concat(searchType!=='search'&&'active',\" padding-bottom-1 type text-normal font-sans-md cursor-pointer\"),onClick:function onClick(){return setSearchType('event');},children:\"Event Search\"})]}),searchType==='search'?/*#__PURE__*/_jsx(SimpleSearch,{}):/*#__PURE__*/_jsx(EventSearch,{onSearch:onEventSearch})]})}),/*#__PURE__*/_jsx(Grid,{col:9,children:/*#__PURE__*/_jsx(SearchItems,{data:searchItems})})]})});};","map":{"version":3,"names":["Grid","useEffect","useState","useSearchParams","EventSearch","SimpleSearch","useFindPatientsByFilterLazyQuery","SearchItems","SearchEngine","searchType","setSearchType","searchItems","setSearchItems","searchParams","getFilteredData","onEventSearch","data","findPatientsByEvent","rowData","firstName","get","lastName","city","zip","DateOfBirth","variables","filter","page","pageNumber","pageSize","then","items","findPatientsByFilter"],"sources":["/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/src/pages/search/index.tsx"],"sourcesContent":["import { Grid } from '@trussworks/react-uswds';\nimport { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { EventSearch } from '../../components/EventSearch';\nimport { SimpleSearch } from '../../components/SimpleSearch';\nimport { PersonFilter, useFindPatientsByFilterLazyQuery } from '../../generated/graphql/schema';\nimport './search.scss';\nimport { SearchItems } from './SearchItems';\n\nexport const SearchEngine = () => {\n    const [searchType, setSearchType] = useState<string>('search');\n    const [searchItems, setSearchItems] = useState<any>([]);\n    const [searchParams] = useSearchParams();\n\n    const [getFilteredData] = useFindPatientsByFilterLazyQuery();\n    // const navigate = useNavigate();\n\n    // const [searchValue, setSearchValue] = useState<string>('');\n    // const [filtered, setFiltered] = useState<any[]>();\n\n    // const handleSearch = (e: any) => {\n    //     e.preventDefault();\n    //     navigate({\n    //         pathname: '/search',\n    //         search: `?q=${searchValue}`\n    //     });\n    // };\n\n    const onEventSearch = (data: any) => {\n        if (data) {\n            setSearchItems(data?.findPatientsByEvent);\n        }\n    };\n\n    useEffect(() => {\n        const rowData: PersonFilter = {\n            firstName: searchParams?.get('firstName') as string,\n            lastName: searchParams?.get('lastName') as string\n        };\n        searchParams?.get('city') && (rowData.city = searchParams?.get('city') as string);\n        searchParams?.get('zip') && (rowData.zip = searchParams?.get('zip') as string);\n        searchParams?.get('id') && (rowData.city = searchParams?.get('id') as string);\n        searchParams?.get('DateOfBirth') && (rowData.DateOfBirth = searchParams?.get('DateOfBirth') as unknown as Date);\n        getFilteredData({\n            variables: {\n                filter: rowData,\n                page: {\n                    pageNumber: 0,\n                    pageSize: 100\n                }\n            }\n        }).then((items: any) => {\n            setSearchItems(items.data.findPatientsByFilter);\n        });\n    }, []);\n\n    return (\n        <div className=\"padding-0 search-page-height bg-base-lightest\">\n            <Grid row className=\"search-page-height\">\n                <Grid col={3} className=\"bg-white border-right border-base-light\">\n                    <div className=\"left-searchbar\">\n                        <div className=\"grid-row flex-align-center\">\n                            <h6\n                                className={`${\n                                    searchType === 'search' && 'active'\n                                } text-normal type font-sans-md padding-bottom-1 margin-x-2 cursor-pointer`}\n                                onClick={() => setSearchType('search')}>\n                                Simple Search\n                            </h6>\n                            <h6\n                                className={`${\n                                    searchType !== 'search' && 'active'\n                                } padding-bottom-1 type text-normal font-sans-md cursor-pointer`}\n                                onClick={() => setSearchType('event')}>\n                                Event Search\n                            </h6>\n                        </div>\n                        {searchType === 'search' ? <SimpleSearch /> : <EventSearch onSearch={onEventSearch} />}\n                    </div>\n                </Grid>\n                <Grid col={9}>\n                    <SearchItems data={searchItems} />\n                </Grid>\n            </Grid>\n        </div>\n    );\n};\n"],"mappings":"yJAAA,OAASA,IAAT,KAAqB,yBAArB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,CACA,OAASC,eAAT,KAAgC,kBAAhC,CACA,OAASC,WAAT,KAA4B,8BAA5B,CACA,OAASC,YAAT,KAA6B,+BAA7B,CACA,OAAuBC,gCAAvB,KAA+D,gCAA/D,CACA,MAAO,eAAP,CACA,OAASC,WAAT,KAA4B,eAA5B,C,wFAEA,MAAO,IAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CAC9B,cAAoCN,QAAQ,CAAS,QAAT,CAA5C,wCAAOO,UAAP,eAAmBC,aAAnB,eACA,eAAsCR,QAAQ,CAAM,EAAN,CAA9C,yCAAOS,WAAP,eAAoBC,cAApB,eACA,qBAAuBT,eAAe,EAAtC,sDAAOU,YAAP,sBAEA,0BAA0BP,gCAAgC,EAA1D,gEAAOQ,eAAP,2BACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAMC,cAAa,CAAG,QAAhBA,cAAgB,CAACC,IAAD,CAAe,CACjC,GAAIA,IAAJ,CAAU,CACNJ,cAAc,CAACI,IAAD,SAACA,IAAD,iBAACA,IAAI,CAAEC,mBAAP,CAAd,CACH,CACJ,CAJD,CAMAhB,SAAS,CAAC,UAAM,CACZ,GAAMiB,QAAqB,CAAG,CAC1BC,SAAS,CAAEN,YAAF,SAAEA,YAAF,iBAAEA,YAAY,CAAEO,GAAd,CAAkB,WAAlB,CADe,CAE1BC,QAAQ,CAAER,YAAF,SAAEA,YAAF,iBAAEA,YAAY,CAAEO,GAAd,CAAkB,UAAlB,CAFgB,CAA9B,CAIA,CAAAP,YAAY,OAAZ,EAAAA,YAAY,SAAZ,QAAAA,YAAY,CAAEO,GAAd,CAAkB,MAAlB,KAA8BF,OAAO,CAACI,IAAR,CAAeT,YAAf,SAAeA,YAAf,iBAAeA,YAAY,CAAEO,GAAd,CAAkB,MAAlB,CAA7C,EACA,CAAAP,YAAY,OAAZ,EAAAA,YAAY,SAAZ,QAAAA,YAAY,CAAEO,GAAd,CAAkB,KAAlB,KAA6BF,OAAO,CAACK,GAAR,CAAcV,YAAd,SAAcA,YAAd,iBAAcA,YAAY,CAAEO,GAAd,CAAkB,KAAlB,CAA3C,EACA,CAAAP,YAAY,OAAZ,EAAAA,YAAY,SAAZ,QAAAA,YAAY,CAAEO,GAAd,CAAkB,IAAlB,KAA4BF,OAAO,CAACI,IAAR,CAAeT,YAAf,SAAeA,YAAf,iBAAeA,YAAY,CAAEO,GAAd,CAAkB,IAAlB,CAA3C,EACA,CAAAP,YAAY,OAAZ,EAAAA,YAAY,SAAZ,QAAAA,YAAY,CAAEO,GAAd,CAAkB,aAAlB,KAAqCF,OAAO,CAACM,WAAR,CAAsBX,YAAtB,SAAsBA,YAAtB,iBAAsBA,YAAY,CAAEO,GAAd,CAAkB,aAAlB,CAA3D,EACAN,eAAe,CAAC,CACZW,SAAS,CAAE,CACPC,MAAM,CAAER,OADD,CAEPS,IAAI,CAAE,CACFC,UAAU,CAAE,CADV,CAEFC,QAAQ,CAAE,GAFR,CAFC,CADC,CAAD,CAAf,CAQGC,IARH,CAQQ,SAACC,KAAD,CAAgB,CACpBnB,cAAc,CAACmB,KAAK,CAACf,IAAN,CAAWgB,oBAAZ,CAAd,CACH,CAVD,EAWH,CApBQ,CAoBN,EApBM,CAAT,CAsBA,mBACI,YAAK,SAAS,CAAC,+CAAf,uBACI,MAAC,IAAD,EAAM,GAAG,KAAT,CAAU,SAAS,CAAC,oBAApB,wBACI,KAAC,IAAD,EAAM,GAAG,CAAE,CAAX,CAAc,SAAS,CAAC,yCAAxB,uBACI,aAAK,SAAS,CAAC,gBAAf,wBACI,aAAK,SAAS,CAAC,4BAAf,wBACI,WACI,SAAS,WACLvB,UAAU,GAAK,QAAf,EAA2B,QADtB,6EADb,CAII,OAAO,CAAE,yBAAMC,cAAa,CAAC,QAAD,CAAnB,EAJb,2BADJ,cAQI,WACI,SAAS,WACLD,UAAU,GAAK,QAAf,EAA2B,QADtB,kEADb,CAII,OAAO,CAAE,yBAAMC,cAAa,CAAC,OAAD,CAAnB,EAJb,0BARJ,GADJ,CAiBKD,UAAU,GAAK,QAAf,cAA0B,KAAC,YAAD,IAA1B,cAA6C,KAAC,WAAD,EAAa,QAAQ,CAAEM,aAAvB,EAjBlD,GADJ,EADJ,cAsBI,KAAC,IAAD,EAAM,GAAG,CAAE,CAAX,uBACI,KAAC,WAAD,EAAa,IAAI,CAAEJ,WAAnB,EADJ,EAtBJ,GADJ,EADJ,CA8BH,CA7EM"},"metadata":{},"sourceType":"module"}