{"ast":null,"code":"import _regeneratorRuntime from\"/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{ApolloClient,ApolloProvider,InMemoryCache,createHttpLink}from'@apollo/client';import React from'react';import ReactDOM from'react-dom';import{BrowserRouter}from'react-router-dom';// import { TopBanner } from './components/TopBanner/TopBanner';\nimport reportWebVitals from'./reportWebVitals';import{AppRoutes}from'./routes/AppRoutes';import UserService from'./services/UserService';import'./settings.scss';import NavBar from'./shared/header/NavBar';import{Config}from'./config';import{setContext}from'@apollo/client/link/context';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var httpLink=createHttpLink({uri:\"http://localhost:\".concat(Config.port,\"/graphql\")});var authMiddleware=setContext(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_,_ref){var headers,header;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:headers=_ref.headers;header={};// hard coded login for now\n_context2.next=4;return UserService.login('msa','').then(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(response){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:// grab the token from the userService\ntoken=response===null||response===void 0?void 0:response.token;// Use the setContext method to set the HTTP headers.\nheader=_objectSpread(_objectSpread({},headers),{},{authorization:token?\"Bearer \".concat(token):''});case 2:case\"end\":return _context.stop();}}},_callee);}));return function(_x3){return _ref3.apply(this,arguments);};}());case 4:return _context2.abrupt(\"return\",{headers:header});case 5:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x,_x2){return _ref2.apply(this,arguments);};}());var client=new ApolloClient({link:authMiddleware.concat(httpLink),cache:new InMemoryCache()});ReactDOM.render(/*#__PURE__*/_jsx(React.StrictMode,{children:/*#__PURE__*/_jsx(ApolloProvider,{client:client,children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(\"div\",{style:{padding:'5px'},children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"route-content\",children:/*#__PURE__*/_jsx(AppRoutes,{})})]})})})}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();","map":{"version":3,"names":["ApolloClient","ApolloProvider","InMemoryCache","createHttpLink","React","ReactDOM","BrowserRouter","reportWebVitals","AppRoutes","UserService","NavBar","Config","setContext","httpLink","uri","port","authMiddleware","_","headers","header","login","then","response","token","authorization","client","link","concat","cache","render","padding","document","getElementById"],"sources":["/Users/henryclark/Desktop/Enquizit/Project/NEDSS-Modernization-1/ui/src/index.tsx"],"sourcesContent":["import { ApolloClient, ApolloProvider, InMemoryCache, createHttpLink } from '@apollo/client';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\n// import { TopBanner } from './components/TopBanner/TopBanner';\nimport reportWebVitals from './reportWebVitals';\nimport { AppRoutes } from './routes/AppRoutes';\nimport UserService from './services/UserService';\nimport './settings.scss';\nimport NavBar from './shared/header/NavBar';\nimport { Config } from './config';\nimport { setContext } from '@apollo/client/link/context';\n\nconst httpLink = createHttpLink({\n    uri: `http://localhost:${Config.port}/graphql`\n});\n\nconst authMiddleware = setContext(async (_, { headers }) => {\n    let header = {};\n    // hard coded login for now\n    await UserService.login('msa', '').then(async (response) => {\n        // grab the token from the userService\n        const token = response?.token;\n        // Use the setContext method to set the HTTP headers.\n        header = {\n            ...headers,\n            authorization: token ? `Bearer ${token}` : ''\n        };\n    });\n    return {\n        headers: header\n    };\n});\nconst client = new ApolloClient({\n    link: authMiddleware.concat(httpLink),\n    cache: new InMemoryCache()\n});\n\nReactDOM.render(\n    <React.StrictMode>\n        <ApolloProvider client={client}>\n            <BrowserRouter>\n                {/* <TopBanner /> */}\n                <div style={{ padding: '5px' }}>\n                    <NavBar />\n                    <div className=\"route-content\">\n                        <AppRoutes />\n                    </div>\n                </div>\n            </BrowserRouter>\n        </ApolloProvider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"mappings":"0dAAA,OAASA,YAAT,CAAuBC,cAAvB,CAAuCC,aAAvC,CAAsDC,cAAtD,KAA4E,gBAA5E,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,SAAP,KAAqB,WAArB,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA;AACA,MAAOC,gBAAP,KAA4B,mBAA5B,CACA,OAASC,SAAT,KAA0B,oBAA1B,CACA,MAAOC,YAAP,KAAwB,wBAAxB,CACA,MAAO,iBAAP,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,OAASC,MAAT,KAAuB,UAAvB,CACA,OAASC,UAAT,KAA2B,6BAA3B,C,wFAEA,GAAMC,SAAQ,CAAGV,cAAc,CAAC,CAC5BW,GAAG,4BAAsBH,MAAM,CAACI,IAA7B,YADyB,CAAD,CAA/B,CAIA,GAAMC,eAAc,CAAGJ,UAAU,6FAAC,kBAAOK,CAAP,gJAAYC,OAAZ,MAAYA,OAAZ,CAC1BC,MAD0B,CACjB,EADiB,CAE9B;AAF8B,uBAGxBV,YAAW,CAACW,KAAZ,CAAkB,KAAlB,CAAyB,EAAzB,EAA6BC,IAA7B,6FAAkC,iBAAOC,QAAP,8HACpC;AACMC,KAF8B,CAEtBD,QAFsB,SAEtBA,QAFsB,iBAEtBA,QAAQ,CAAEC,KAFY,CAGpC;AACAJ,MAAM,gCACCD,OADD,MAEFM,aAAa,CAAED,KAAK,kBAAaA,KAAb,EAAuB,EAFzC,EAAN,CAJoC,sDAAlC,iEAHwB,yCAYvB,CACHL,OAAO,CAAEC,MADN,CAZuB,0DAAD,oEAAjC,CAgBA,GAAMM,OAAM,CAAG,GAAIzB,aAAJ,CAAiB,CAC5B0B,IAAI,CAAEV,cAAc,CAACW,MAAf,CAAsBd,QAAtB,CADsB,CAE5Be,KAAK,CAAE,GAAI1B,cAAJ,EAFqB,CAAjB,CAAf,CAKAG,QAAQ,CAACwB,MAAT,cACI,KAAC,KAAD,CAAO,UAAP,wBACI,KAAC,cAAD,EAAgB,MAAM,CAAEJ,MAAxB,uBACI,KAAC,aAAD,wBAEI,aAAK,KAAK,CAAE,CAAEK,OAAO,CAAE,KAAX,CAAZ,wBACI,KAAC,MAAD,IADJ,cAEI,YAAK,SAAS,CAAC,eAAf,uBACI,KAAC,SAAD,IADJ,EAFJ,GAFJ,EADJ,EADJ,EADJ,CAcIC,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAdJ,EAiBA;AACA;AACA;AACAzB,eAAe"},"metadata":{},"sourceType":"module"}