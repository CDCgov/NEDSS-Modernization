name: Build NBS6 Windows Container Build
on:
  push:
    branches:
      - nbs6-docker-image
    # paths:
    #   - "cdc-sandbox/nbs6-win-container/**"
jobs:
  call-build-windows-container-workflow:
    name: Build Windows Container
    uses: CDCgov/NEDSS-Workflows/.github/workflows/Build-windows-container.yaml@nbs6-docker-image
    with:
      container_name: nbs6
      nbs6_version: "6.0.15.1"
      dockerfile_relative_path: ./cdc-sandbox/nbs6-win-container/
      zip_file_name: "v7.2.2.NEDSS.NBS.Modernized.Documentation.zip"
      user_guide_doc_name: "NBS 7.2.2 Release Notes.docx"
    secrets:
      CDC_NBS_SANDBOX_SHARED_SERVICES_ACCOUNTID: ${{secrets.CDC_NBS_SANDBOX_SHARED_SERVICES_ACCOUNTID}}
      ECR_CLASSIC_REPO_BASE_NAME: ${{secrets.ECR_CLASSIC_REPO_BASE_NAME}}
      CLASSIC_ZIP_S3_BUCKET: ${{secrets.CLASSIC_ZIP_S3_BUCKET}}
      USER_GUIDE_S3_BUCKET: ${{secrets.USER_GUIDE_S3_BUCKET}}